---
layout: post
title:  单翼飞行器设计与控制
date:   2021-05-29 12:25:20 +0300
description: 设计仿生单翼飞行器，根据非线性动力学设计控制算法 # Add post description (optional)
img: monocopter.jpg # Add image post (optional)
tags: [Blog, Note, Project]
author: WeitongLiang # Add name author (optional)
---
# 摘要
本文设计了一种基于仿生学的单翼无人机，根据树种的结构进行仿生学设计。该无人机包括电机和舵机两个可用部件，电机控制螺旋桨推动整体旋转，舵机控制无人机偏航和平移。该无人机采用了单旋翼的设计，比常见的直升机、四轴无人机的效率更高，而且结构更简单。这种无人机要求更复杂的控制算法，因此我们对其进行了线性化，使用LQR控制，可以保证其稳定性，为了提升其控制速度，我们还结合了PID控制。最终结果表明该单翼无人机可以在较短的时间内达到稳定，并且可以根据指定的轨迹进行移动。

# 简介

无人机的发展

仿生学单翼无人机，基于树种的结构



# 动力学

## 电机和螺旋桨
本文中的单翼无人机和传统飞行器不同，并不是靠螺旋桨直接提供升力，螺旋桨安装方向与无人机上升的方向垂直，螺旋桨产生的推力会让单翼无人机整体绕质心旋转。螺旋桨产生的推力为

$ F_p = k_m \omega_p^2 $

由于电机的体积较小，所以我们不会重点分析电机与螺旋桨处的动力学传递关系，而是将其简化为线性化关系

$F_p = G_p*u(t)$

其中Fp为螺旋桨提供的推力，Gp是放大系数，u（t）为电机的输入电压。



## 机翼升力和阻力

在单翼机绕质心自转时，由于机翼的流线型结构，会产生垂直于机翼向上的升力以及与旋转方向相反的阻力，其表达式为

$dF_l = \frac{1}{2}\rho C_l W (\omega r)^2dr$

$dF_d = \frac{1}{2}\rho C_d W (\omega r)^2dr$

通过积分可以得到合力以及合力矩，并且得到等效力臂为$\frac{3}{4}L$



## 舵机襟翼对姿态角的影响

对于旋转翼直升机，控制其在xy平面上的方法是利用复杂的机械结构周期性地调整旋翼的攻角，由此来使的在一个圆周内不同角度时升力系数不同，由于转速维持常数不变，则升力的合力就会向一侧偏移，使得直升机整体向一侧移动。本文中的单翼无人机也采用相同的策略，由于我们的单翼机结构简单，无法直接改变机翼的攻角，因此我们使用了与固定翼飞机相同的后襟翼结构，通过控制襟翼来改变升力系数，这样也可以达到相同的控制效果。

# 控制算法



## XY平面平移控制

根据动力学方程，我们有无人机姿态角度与机翼升力系数的关系式

$\ddot{\theta}_x = \frac{1}{J_{xy}}cos(\omega t)\frac{1}{6}\rho C_l(t)SL^2\omega^2\frac{3}{4}L$

$\ddot{\theta}_y = \frac{1}{J_{xy}}sin(\omega t)\frac{1}{6}\rho C_l(t)SL^2\omega^2\frac{3}{4}L$

从公式中可以看出，在无人机保持悬停状态时，转速$\omega$保持不变，在机翼旋转一周时，机翼升力形成的转矩相互抵消，因此无人机在xy轴的偏转角加速度为0. 为了使无人机朝指定地方向进行偏转，我们周期性控制襟翼的角度来改变机翼的升力系数，机翼升力系数的控制律为

$C_l(t) = C_0 + cos(\omega t)u_2(t) + sin(\omega t)u_3(t)$

其中$C_0$代表初始的机翼升力系数，该值用以保证无人机在偏转过程中仍有足够的升力保持悬停。输入项$u_2$和$u_3$为期望的xy方向偏转转矩，并非是实际的舵机控制信号。在控制率下，无人机的偏转角动力学可以被表示为

$\ddot{\theta}_x = \frac{1}{J_{xy}}\frac{1}{6}\rho SL^2\omega^2\frac{3}{4}L（C_0cos(\omega t) + cos^2(\omega t)u_2(t) + sin(\omega t)cos(\omega t)u_3(t)） $

$\ddot{\theta}_y = \frac{1}{J_{xy}}\frac{1}{6}\rho SL^2\omega^2\frac{3}{4}L(C_0sin(\omega t) + cos(\omega t)sin(\omega t)u_2(t) + sin^2(\omega t)u_3(t))$

对上面的公式进行简化，其中$和C_0cos(\omega)t$$C_0sin(\omega)t$与未加控制的形式相同，结果在时间的积分上为0，在转速较快时不会造成无人机偏转，因此我们将该部分忽略。同理，$cos(\omega t)sin(\omega t) = \frac{1}{2}sin(2\omega t)$同样是积分为0的周期函数，因此对无人机的偏转也可以忽略。公式中的$cos^2(\omega t)$和$sin^2(\omega t)$最终保留下来，它们可以被视为是在时间上积分值为1/2的因子，最终简化后的动力学方程为

$\ddot{\theta}_x = \frac{1}{J_{xy}}\frac{1}{6}\rho SL^2\omega^2\frac{3}{4}L \frac{1}{2}u_2(t)$

$\ddot{\theta}_y = \frac{1}{J_{xy}}\frac{1}{6}\rho SL^2\omega^2\frac{3}{4}L\frac{1}{2}u_3(t)$



## LQR控制

Lqr控制是基于线性化的系统，设计负反馈控制，这种控制算法的优势在于用较小的输入量来达到目标位置，有利于节省能量的消耗，这种控制算法普遍应用于无人机以及航空航天领域。

# 仿真

基于Matlab 的simulink 仿真，系统的框图如下，包括了非线性动力学部分，以及反馈控制。

# 结论

本文中设计的monocopter具有结构简单，重量轻等优点，单旋翼的设计使得其拥有较高的升力效率。利用LQR和PID控制算法，可以使其实现稳定飞行以及较快速的响应。然而monocopter依然有一些缺陷，由于其单旋翼的结构不具有静平衡性能，因此不可以避免地会在旋转时发生振动。

